<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CS 50 | Activity</title>
    <link rel="stylesheet" href="/~ksalesin/cs50/styles.css">
    <link rel="stylesheet" href="/~ksalesin/cs50/github-markdown.css">
</head>
<body>
    <div class="markdown-body nav">
        <h3><a href="/~ksalesin/cs50/" id="cs50">CS 50: Software Design and Implementation (Winter 2026)</a></h3>
        <ul>
            <li><a href="/~ksalesin/cs50/syllabus.html">Syllabus</a></li>
            <li><a href="/~ksalesin/cs50/schedule.html">Schedule</a></li>
            <li><a href="/~ksalesin/cs50/style.html">Style Guide</a></li>
            <li><a href="/~ksalesin/cs50/resources.html">Resources</a></li>
            <!-- <li><a href="/submit.html">Submit</a></li> -->
            <li id="knowledge-base"><a href="http://plink.cs.dartmouth.edu:3000/" target="_blank">Knowledge Base</a></li>
        </ul>
    </div>
    <div class="markdown-body content">
        <h1>Activity: Can you make it?</h1>
<p>Reminder: use ‘make -n’ to see what make will do without actually doing it,  and use  ‘touch’ to make specific files out of date.</p>
<hr>
<ol>
<li>Build an initial makefile based on the dependency diagram below. Be sure to use variables (like <code>$(OBJS)</code>) when you can. <img src="MakeDependencyTree.png" alt="dependency tree">.</li>
<li>add macros for <code>gcc</code>,  <code>-Wall -pedantic -std=c11 -ggdb</code>, and library flags (e.g., <code>-lm</code>).</li>
<li>add target <code>clean:</code> that erases the app, <code>.o</code>, and other files that could result from a run of <code>make</code>.</li>
<li>test your makefile to ensure the dependency tree is correctly represented.  For example:</li>
</ol>
<ul>
<li>run <code>make clean</code> then <code>make</code> to build everything. Then <code>touch meal.h</code> and then <code>make</code> and you should only see <code>menu.c</code> and <code>meal.c</code> recompiled.</li>
</ul>
<ol start="5">
<li>add a target <code>test:</code> that depends on the supplied <code>testing.sh</code> and the app (i.e., <code>diningHall</code>).</li>
<li>add target <code>backup</code>: target that makes <code>clean</code> and then creates a backup tarfile of your .c and .h files (e.g., <code>tar -cvf ../backup.tar *.c *.h</code>).  Be sure to add an exception to the <code>clean:</code> for your <code>backup*.tar</code> files!</li>
<li>add a <code>backup:</code> target to check whether <code>../backup.tar</code> already exists and, if it does, renames it to <code>../backup-previous.tar</code>. If the <code>../backup-previous.tar</code> file already exists just overwrite it.</li>
<li>add a target <code>submit:</code> that depends on the <code>clean</code> target and then rebuilds the app <em>without</em> the <code>-ggdb</code> option as its &quot;recipe&quot;.</li>
</ol>
<h2>Challenge</h2>
<p>How would you modify the <code>Makefile</code> if each individual <code>.c</code> file was in its own directory?  Hint: read about the <code>-C</code> option of  <code>make</code> in its man page (i.e., <code>man make</code>).</p>
<hr>
<p>Put your answers and resulting Makefile in a Markdown file and upload it to Canvas
for Activity8. You can copy the Makefile contents into the Markdown file inside a
code block (<code>``` ... ```</code>).</p>

    </div>
</body>
</html>