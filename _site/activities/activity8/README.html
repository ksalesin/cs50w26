<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CS 50 | Activity</title>
    <link rel="stylesheet" href="/~ksalesin/cs50/styles.css">
    <link rel="stylesheet" href="/~ksalesin/cs50/github-markdown.css">
</head>
<body>
    <div class="markdown-body nav">
        <h3><a href="/~ksalesin/cs50/" id="cs50">CS 50: Software Design and Implementation (Winter 2026)</a></h3>
        <ul>
            <li><a href="/~ksalesin/cs50/syllabus.html">Syllabus</a></li>
            <li><a href="/~ksalesin/cs50/schedule.html">Schedule</a></li>
            <li><a href="/~ksalesin/cs50/style.html">Style Guide</a></li>
            <li><a href="/~ksalesin/cs50/resources.html">Resources</a></li>
            <li id="knowledge-base"><a href="http://spongium.org/" target="_blank">Knowledge Base</a></li>
        </ul>
    </div>
    <div class="markdown-body content">
        <h1>Activity: Can you make it?</h1>
<p>Reminder: you can use <code>make -n</code> to see what make will do without actually doing it,  and use <code>touch</code> to make specific files out of date.</p>
<p>Upload your final Makefile to Canvas for this activity.</p>
<hr>
<ol>
<li>On plink, copy the following files from the examples directory into your home directory:</li>
</ol>
<pre><code>cd ~
cp -r /home/cs50/shared/examples/activity8 .
</code></pre>
<ol>
<li>Build an initial makefile based on the dependency diagram below. Be sure to use variables (like <code>$(OBJS)</code>) when you can.</li>
</ol>
<p><img src="/~ksalesin/cs50/images/MakeDependencyTree.png" alt="dependency tree"></p>
<ol>
<li>add macros for <code>gcc</code>,  <code>-Wall -pedantic -std=c11 -ggdb</code>, and library flags (e.g., <code>-lm</code>).</li>
<li>At this point, test your <code>Makefile</code> by running the <code>make</code> command.
<ul>
<li>It should run without errors and create the <code>diningHallApp</code> executable.</li>
<li><code>touch meal.h</code> to modify its timestamp and then <code>make</code> and you should only see <code>menu.c</code> and <code>meal.c</code> recompiled.</li>
</ul>
</li>
<li>add target <code>clean:</code> that erases the app, <code>.o</code>, and other files that could result from a run of <code>make</code>. Test this by running <code>make clean</code>.</li>
<li>add a target <code>test:</code> that runs the supplied <code>testing.sh</code> (you should also add the executable <code>diningHallApp</code> as a dependency so it will be recompiled first if out of date).</li>
<li>add target <code>backup:</code> target that makes <code>clean</code> and then creates a backup tarfile of your .c and .h files (e.g., <code>tar -cvf backup.tar *.c *.h</code>).</li>
<li>add a target <code>submit:</code> that depends on the <code>clean</code> target and then rebuilds the app <em>without</em> the <code>-ggdb</code> option as its &quot;recipe&quot;.</li>
<li>You can see that for each target, <code>make</code> prints each command as it runs; sometimes this is desirable, sometimes not. Modify the <code>clean:</code> target so that it runs the same commands but does not print them.</li>
</ol>
<h2>Challenge</h2>
<p>How would you modify the <code>Makefile</code> if each individual <code>.c</code> file was in its own directory?  Hint: read about the <code>-C</code> option of <code>make</code> in its man page (i.e., <code>man make</code>).</p>

    </div>
</body>
<script src="/~ksalesin/cs50/_includes/spoilers.js"></script>
</html>