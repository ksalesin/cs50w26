<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link rel="stylesheet" href="/~ksalesin/cs50/styles.css">
    <link rel="stylesheet" href="/~ksalesin/cs50/github-markdown.css">
</head>
<body>
    <div class="markdown-body nav">
        <h3><a href="/~ksalesin/cs50/" id="cs50">CS 50: Software Design and Implementation</a></h3>
        <ul>
            <li><a href="/~ksalesin/cs50/syllabus/">Syllabus</a></li>
            <li><a href="/~ksalesin/cs50/schedule/">Schedule</a></li>
            <li><a href="/~ksalesin/cs50/style/">Style Guide</a></li>
            <li><a href="/~ksalesin/cs50/resources/">Resources</a></li>
            <!-- <li><a href="/submit.html">Submit</a></li> -->
            <li id="knowledge-base"><a href="http://plink.cs.dartmouth.edu:3000/" target="_blank">Knowledge Base</a></li>
        </ul>
    </div>
    <div class="markdown-body content">
        <h1>Activity - Mad Libs</h1>
<p>Some of you may have encountered a book of <a href="https://www.madlibs.com"><em>Mad Libs</em></a>; on each page is a brief story with some words left blank.
One player sees the story and asks the other player, who cannot see the story, to fill in the blanks; each blank is labeled simply <em>noun</em>, <em>verb</em>, or perhaps something more explicit like <em>fruit</em> or <em>color</em>.
After all the blanks are filled, the first player reads the story aloud, which can be pretty funny!</p>
<p>Let's look at a program that allows you to play Mad Libs!
All the files you need are in the examples directory, visible in the <a href="https://github.com/CS50DartmouthFA2025/home/tree/main/examples">course's home repo</a>.</p>
<p>Answer the following in a Markdown file and one team member should upload it to Canvas for Activity 5 when you are finished.</p>
<h2>Prep: getting the files</h2>
<ol start="0">
<li>Make a clone of the CS50 &quot;home&quot; repo (on Plink or Babylon1).</li>
<li>Create an <code>activity5</code> folder as a subdirectory of your home folder.</li>
<li>Copy the <code>madlib.c</code> file from <code>examples</code> into your <code>activity5</code> directory.</li>
<li>Copy the <code>readline.c</code> and <code>readline.h</code> files from the <code>examples</code> directory into your <code>activity5</code> directory. (<em>Challenge</em>: can you do that <code>cp</code> command with a single command, instead of two?)</li>
</ol>
<h2>Playing the game</h2>
<ol>
<li>Compile the example <code>madlib.c</code> and <code>readline.c</code> files together with a single <code>mygcc</code> command, producing the <code>madlib</code> executable file.</li>
<li>Play it once on your own, using the example input madlib1.txt; afterward, look at the input and output files.</li>
<li>Play again as a team; one person run it on madlib2.txt -- don't peek at the file! -- and all teammates can call out the words to input.  Read the output file aloud!</li>
</ol>
<h2>The code</h2>
<ol>
<li>
<p>Study the code for madlib.c.
Make a list of questions to ask your learning fellow (or the professor).
Try to answer these questions:</p>
</li>
<li>
<p>Notice the &quot;global constants&quot; at the top of the file; why are they defined there? Why are they defined at all?</p>
</li>
<li>
<p>Why is <code>const</code> applied to the parameters of <code>main</code> and its three string variables?</p>
</li>
<li>
<p>Indeed, those three string variables are not strictly necessary - so why does the code define them?</p>
</li>
<li>
<p>Notice that two <code>fopen</code> calls occur within the conditional expression of an <code>if</code> statement - why and how does that work?</p>
</li>
<li>
<p>Notice that <code>main</code> does none of the actual program logic, which is deferred to a function <code>fillTemplate()</code>; why?</p>
</li>
<li>
<p>Notice that the return value of <code>fillTemplate()</code> is captured in a variable, rather than being tested directly/immediately by an <code>if</code> statement; why?</p>
</li>
<li>
<p>Inside <code>fillTemplate()</code>, notice how the <code>while</code> loop scans the whole file - and is another example of an assignment statement within a conditional expression.</p>
</li>
<li>
<p>How does the code detect and extract <code>&lt;code&gt;</code> from the input?</p>
</li>
<li>
<p>Why is this comment true? (n.b. means <em>note bene</em>, Latin for &quot;please note&quot;) <code>n.b., this also implies i == codeLength</code></p>
</li>
<li>
<p>What is <code>'\0'</code> and why is it used?</p>
</li>
<li>
<p>Why does the code need to truncate an over-long substitution provided by the human player? why is that not a fatal error?</p>
</li>
<li>
<p>Notice the calls to <code>fputs()</code> and <code>fputc()</code>, and the code checking for error returns; why?</p>
</li>
<li>
<p>The final line of code calls <code>feof()</code>, a function that returns an <code>int</code> (read the man page), and returns its value directly as the result of our function <code>fillTemplate()</code>.  But our function returns <code>bool</code>, not <code>int</code>; why does this work?</p>
</li>
<li>
<p>If you have time, extend a copy of madlib.c to print out the resulting story when translation is finished (and successful).
It might be nice to print a blank line and a row of dashes so the story is nicely set off from the prompts &amp; answers in the first phase of the program.
You should write a new function <code>printFile(FILE *fp)</code> that simply copies characters from that file (already open for reading as <code>fp</code>) to stdout.
<code>main</code> can thus open the outputFileName (for reading) and call this function.
I anticipate this function will be only 2-3 lines long!</p>
</li>
</ol>
<p><em><strong>Don't forget to upload your answers to Canvas for Activity5</strong></em></p>

    </div>
</body>
</html>