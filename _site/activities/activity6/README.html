<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link rel="stylesheet" href="/~ksalesin/cs50/styles.css">
    <link rel="stylesheet" href="/~ksalesin/cs50/github-markdown.css">
</head>
<body>
    <div class="markdown-body nav">
        <h3><a href="/~ksalesin/cs50/" id="cs50">CS 50: Software Design and Implementation</a></h3>
        <ul>
            <li><a href="/~ksalesin/cs50/syllabus/">Syllabus</a></li>
            <li><a href="/~ksalesin/cs50/schedule/">Schedule</a></li>
            <li><a href="/~ksalesin/cs50/style/">Style Guide</a></li>
            <li><a href="/~ksalesin/cs50/resources/">Resources</a></li>
            <!-- <li><a href="/submit.html">Submit</a></li> -->
            <li id="knowledge-base"><a href="http://plink.cs.dartmouth.edu:3000/" target="_blank">Knowledge Base</a></li>
        </ul>
    </div>
    <div class="markdown-body content">
        <h1>Activity - Memory games</h1>
<h2>1. Show 'em</h2>
<p>Copy the <code>activity6-1.c</code> file from the examples folder into a new
directory called <code>memorygames</code> into your <code>~/</code> on plink
and then <code>cd</code> into that directory.</p>
<p>In place of the comments in the <code>showx</code> and <code>showy</code> functions,
add code to print out the address of the <code>x</code> and <code>y</code> variables,
respectively.</p>
<p>Hint: use <code>%p</code> to print out pointer values.</p>
<p>Note: the compiler will warn you about unused variables. We will ignore it in this exercise. In real-world projects, unused variables are to be avoided since they reduce readability and may cause confusion or even bugs.</p>
<p>Do you notice anything unexpected about the resulting output?
Can you explain it?</p>
<hr>
<p><em>note: (#2 based on exercises from a CS class at Villanova)</em></p>
<h2>2. swapping pointers</h2>
<p>Copy the <code>activity6-2.c</code> file from the examples directory into<br>
the <code>memorygames</code> directory on plink.</p>
<p>The <code>swap_nums</code> function seems to work, but the <code>swap_pointers</code>
functions does not. Can you fix it?</p>
<hr>
<h2>3. Buggy <code>stringcat</code></h2>
<p>Copy the <code>stringcat.c</code> file from the examples directory into <code>~/memorygames</code>.</p>
<p>The code is buggy and triggers a <em>stack smashing detected!</em> error and crashes.</p>
<p>Study the code to be able to put answers to the following questions in a markdown for upload to Canvas Activity 6.</p>
<ul>
<li>Explain the pointer notation used in the parameters.</li>
<li>Explain the pointer notation used in the first while loop condition.</li>
<li>Explain what the two loops accomplish</li>
<li>Why is there an assignment after the loop?</li>
<li>Where is the bug in <code>main()</code>?</li>
<li>What might go wrong inside <code>stringcat</code>?</li>
</ul>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

void stringcat( char *sp, char *dp);

int main()
{
  // initialize the first few characters of the arrays
  char src[8]  = &quot;CS50&quot;;
  char dest[8] = &quot;abcdef&quot;;

  printf( &quot;dest started as: \&quot;%s\&quot;\n&quot;, dest);

  stringcat(src, dest);
  printf(&quot;src  = '%s'\n&quot;, src);
  printf(&quot;dest = '%s'\n&quot;, dest);
  return 0;
}

/* stringcat - cat string from source sp onto destination dp */
void stringcat(char *sp, char *dp)
{
  while (*dp)
	  ++dp;

  while (*sp != '\0') {
    *dp++ = *sp++;
  }
  *dp = '\0';
}
</code></pre>
<!--
For those who have already read/watched the [knowledge unit about gdb](../gdb/index.html), you can use `gdb` to inspect the state of the process when it crashed:

```bash
$ ulimit -c unlimited
$ mygcc stringcat.c -o stringcat
$ ./stringcat
dest started as: "abcdef"
src  = 'CS50'
dest = 'abcdefCS50'
*** stack smashing detected ***: terminated
Aborted (core dumped)
$ # find your UID's most recent coredump file
and save it in an shell variable
$ export coredump=$(ls -t /var/lib/apport/coredump/*$UID* | head -1)
$ echo $coredump
/var/lib/apport/coredump/core._thayerfs_home_d29265d_cs50-dev_tmp_aa.180338.158d32c0-568a-41f4-87c5-b9e0f11465d2.4081512.220718009
$ gdb stringcat $coredump
...
Reading symbols from stringcat...
[New LWP 4113919]
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
Core was generated by `./stringcat`.
Program terminated with signal SIGABRT, Aborted.
...
(gdb) 

```
-->
<h2>4. Reverse the string arguments</h2>
<p>Write a small C function <code>flip</code> that:</p>
<ol>
<li>takes an pointer to char as its only argument</li>
<li>print the string pointed to, then print the same string backwards.</li>
<li>the function may have only one other variable, a pointer
to char, and the only function it can call is <code>printf</code>.</li>
</ol>
<p>Here's the <code>main</code> program to test your <code>flip</code> function:</p>
<pre><code class="language-c">include &lt;stdio.h&gt;

void flip (char *);

int main()
{
    /* strings is an array of pointers to char */
    char *strings[] = {&quot;this&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;};
    int i;

    for (i=0; i&lt;(sizeof(strings)/sizeof(char*)); ++i) {
        flip(strings[i]);
    }
    return 0;
}

void flip(char *p)
{
  char *q;

  /***********************/
  /* your code goes here */
  /***********************/

  return;
}

</code></pre>

    </div>
</body>
</html>