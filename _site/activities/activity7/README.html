<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CS 50 | Activity</title>
    <link rel="stylesheet" href="/~ksalesin/cs50/styles.css">
    <link rel="stylesheet" href="/~ksalesin/cs50/github-markdown.css">
</head>
<body>
    <div class="markdown-body nav">
        <h3><a href="/~ksalesin/cs50/" id="cs50">CS 50: Software Design and Implementation (Winter 2026)</a></h3>
        <ul>
            <li><a href="/~ksalesin/cs50/syllabus.html">Syllabus</a></li>
            <li><a href="/~ksalesin/cs50/schedule.html">Schedule</a></li>
            <li><a href="/~ksalesin/cs50/style.html">Style Guide</a></li>
            <li><a href="/~ksalesin/cs50/resources.html">Resources</a></li>
            <li id="knowledge-base"><a href="http://spongium.org/" target="_blank">Knowledge Base</a></li>
        </ul>
    </div>
    <div class="markdown-body content">
        <h1>Activity: C programming with structs and pointers</h1>
<h2>Goals</h2>
<ol>
<li>to use <code>structs</code>, arrays of <code>structs</code></li>
<li>to better understand use of pointers for allocated memory, and function parameters</li>
</ol>
<h2>Prepare</h2>
<ol>
<li>Log into plink</li>
<li>Copy the directory <code>activity7</code> located in <code>/home/cs50/shared/examples/activity7</code> into your home directory.</li>
</ol>
<pre><code>cd ~
cp -r /home/cs50/shared/examples/activity7 .
</code></pre>
<ol start="3">
<li><code>cd</code> into <code>activity7</code></li>
<li>Copy the file <code>covid-blank.c</code> to <code>covid.c</code>. Open up <code>covid.c</code>. Things to notice:</li>
</ol>
<ul>
<li>a long-ish <code>main()</code> function (because of extensive error checking) but good section-header comments to indicate overall flow.</li>
<li>use of the <code>file</code> module</li>
<li>a big <code>struct</code> for holding each row of data from the csv file</li>
<li>a <code>typedef</code> to define a new type for that struct</li>
<li>character pointers (for strings) inside the struct; where do they point?</li>
<li>an array of structs - how do you allocate memory for it?</li>
<li>extensive error-checking code throughout</li>
<li>detailed 'contract' for the <code>csvBurst</code> and <code>extractData</code> function (read about <a href="https://github.com/CS50DartmouthFA2025/home/blob/main/knowledge/units/contracts.md">function contracts</a>)</li>
<li>in the <code>csvBurst</code> function, a 'moving pointer' approach to parsing the csv string</li>
<li>chopping the csv string by dropping in null characters</li>
<li>creating an array of pointers into the csv string</li>
</ul>
<ol start="5">
<li>One member of the team share screen and edit that file, filling in all the BLANKs.</li>
</ol>
<ul>
<li>Hint: open up the <code>file.h</code> header file to see what useful functions are available.</li>
</ul>
<ol start="6">
<li>Compile the program by running the <code>make</code> command within the <code>activity7</code> directory. (We will talk more about <code>make</code> next week, but for now just know that the <code>make</code> command reads the instructions in the Makefile to compile a complex project. You can open and read the Makefile if you like.)</li>
</ol>
<h1>Test file</h1>
<ul>
<li>You can test your code by running <code>./covid</code> on the <code>vaccine_data_us.csv</code> file that you used for Lab 1 (which you made a symbolic link to).</li>
</ul>
<h1>Submission</h1>
<ul>
<li>Submit your group's <code>covid.c</code> file for this activity to Canvas.</li>
</ul>

    </div>
</body>
<script src="/~ksalesin/cs50/_includes/spoilers.js"></script>
</html>