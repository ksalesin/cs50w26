<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CS 50 | Lab</title>
    <link rel="stylesheet" href="/~ksalesin/cs50/styles.css">
    <link rel="stylesheet" href="/~ksalesin/cs50/github-markdown.css">
</head>
<body>
    <div class="markdown-body nav">
        <h3><a href="/~ksalesin/cs50/" id="cs50">CS 50: Software Design and Implementation (Winter 2026)</a></h3>
        <ul>
            <li><a href="/~ksalesin/cs50/syllabus.html">Syllabus</a></li>
            <li><a href="/~ksalesin/cs50/schedule.html">Schedule</a></li>
            <li><a href="/~ksalesin/cs50/style.html">Style Guide</a></li>
            <li><a href="/~ksalesin/cs50/resources.html">Resources</a></li>
            <!-- <li><a href="/submit.html">Submit</a></li> -->
            <li id="knowledge-base"><a href="http://spongium.org/" target="_blank">Knowledge Base</a></li>
        </ul>
    </div>
    <div class="markdown-body content">
        <h1>Lab 1: Bash</h1>
<p>This first lab should get you up to speed working with the command line, basic shell commands, an editor, and a small bash program.</p>
<h2>Background</h2>
<p>Johns Hopkins University (JHU) quickly became known as <em>the</em> source for reliable data about COVID-19, early in the pandemic.
Their <a href="https://coronavirus.jhu.edu">Coronavirus Resource Center</a> is an outstanding public resource, including graphics that are routinely seen in news media around the world.
They also provide all their data on GitHub!
One repository is provided by the <a href="https://github.com/CSSEGISandData/COVID-19">Center for Systems Science and Engineering (CSSE)</a>,
and another by the <a href="https://github.com/govex/COVID-19">Centers for Civic Impact</a>.</p>
<p>Specifically, we will work with the <a href="https://github.com/govex/COVID-19/tree/master/data_tables/vaccine_data/us_data">US vaccination data</a>.
That page provides documentation describing the data, which appears in two subdirectories.
The data is a spreadsheet formatted as <em>comma separated values</em> (csv) -- just a text file, one row of data per line, with the columns of each row separated by a comma.</p>
<!-- You need to format your `README.md` file in Markdown syntax, and you will write two bash scripts that print their output in Markdown syntax.
(See the Markdown information and example at bottom of this page.) -->
<h2>Assignment</h2>
<p>A. Create a <code>~/lab1</code> folder on plink and create a <code>lab1.sh</code> file in it. Add a '#' comment for each of the following tasks. For problems B to H below, paste your proposed bash command/pipeline (but not its output) after the appropriate header.</p>
<p>B. Explore the directory <code>/home/cs50/COVID-19</code>.
Find the file <code>hourly/vaccine_data_us.csv</code> within this directory (it will take some digging around).
Write a single bash command or pipeline to create a <em>symbolic link</em> to that file, within your <code>~/lab1</code> directory.
The goal is that, when your current working directory is your <code>~/lab1</code> directory, you can type</p>
<pre><code>less vaccine_data_us.csv
</code></pre>
<p>and see the contents of that shared file.
Much easier than remembering and typing the long pathname every time!</p>
<p>C. Write a single bash command or pipeline to print only the header line of the spreadsheet.</p>
<p>D. Extend that bash command or pipeline to print only the header line of the spreadsheet, but to present the header fields one per line, instead of a single comma-separated line.
For example, instead of seeing <code>Name,Class,Major</code> you would see</p>
<p>Name<br>
Class<br>
Major</p>
<p>E. Write a single bash command or pipeline to print only the &quot;New Hampshire&quot; line(s) of the spreadsheet.</p>
<p>F. Write a single bash command or pipeline to print only the rows representing <code>All</code> vaccine types and only the <code>Province_State</code> and <code>Doses_admin</code> columns, separated by a comma.
(Note <code>Province_State</code> includes some names that are neither a province nor a state; for generality, let's call those 'areas'.)</p>
<p>G. Extend that bash commandline to print the top-10 areas in terms of all types of doses administered, in decreasing order of the number of doses administered.
Each line of output should contain the area name and the number of doses, separated by a comma.</p>
<p>H. Extend that commandline to edit each output line, adding a pipe (<code>|</code>) symbol at the beginning and the end, and replacing the comma with a pipe symbol.
The result is almost in Markdown 'table' format.</p>
<p>I. Write a bash script <code>top10.sh</code> that is given the name of the csv file as its first/only argument, and prints to stdout a table in Markdown format.
(If the first argument is missing, or names an unreadable file, print nothing but an error message, and exit non-zero.)
Thus,</p>
<pre><code>./top10.sh vaccine_data_us.csv &gt; top10.md
</code></pre>
<p>will create a Markdown file <code>top10.md</code> from the csv data, adding a header to the output of the previous pipeline so the resulting Markdown file, when viewed in a Markdown-rendering tool, will look like this one:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Area</th>
<th style="text-align:right">Doses administered</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">California</td>
<td style="text-align:right">17703550</td>
</tr>
<tr>
<td style="text-align:left">Texas</td>
<td style="text-align:right">11130215</td>
</tr>
<tr>
<td style="text-align:left">Florida</td>
<td style="text-align:right">9276711</td>
</tr>
<tr>
<td style="text-align:left">New York</td>
<td style="text-align:right">9056970</td>
</tr>
<tr>
<td style="text-align:left">Long Term Care (LTC) Program</td>
<td style="text-align:right">7718036</td>
</tr>
<tr>
<td style="text-align:left">Pennsylvania</td>
<td style="text-align:right">5893502</td>
</tr>
<tr>
<td style="text-align:left">Illinois</td>
<td style="text-align:right">5793846</td>
</tr>
<tr>
<td style="text-align:left">Ohio</td>
<td style="text-align:right">5168120</td>
</tr>
<tr>
<td style="text-align:left">North Carolina</td>
<td style="text-align:right">4654892</td>
</tr>
<tr>
<td style="text-align:left">Michigan</td>
<td style="text-align:right">4295979</td>
</tr>
</tbody>
</table>
<p>Note how I right-justified the numeric column, for readability.
Here is the Markdown for that table:</p>
<pre><code>| Area | Doses administered  |
| :--------- | --------: |
|California|17703550|
|Texas|11130215|
|Florida|9276711|
|New York|9056970|
|Long Term Care (LTC) Program|7718036|
|Pennsylvania|5893502|
|Illinois|5793846|
|Ohio|5168120|
|North Carolina|4654892|
|Michigan|4295979|
</code></pre>
<p>J. Now, let's shift gears.
Write a bash script called <code>summarize.sh</code> that takes as arguments a list of zero or more pathnames, and prints to stdout a Markdown summary of those files.
Specifically, it should</p>
<ul>
<li>for pathnames that do not refer to a readable file, print an error message to stderr and skip to the next pathname.</li>
<li>ignore files that do not end in <code>.sh</code>, <code>.c</code>, or <code>.h</code>.</li>
<li>print a <code>##</code> subheader for each file, giving that file's basename (the basename is the rightmost component of the pathname)</li>
<li>print the &quot;header comment&quot; of that file in Markdown's triple-ticks notation appropriate for the language of the file.
The language is <code>bash</code> for a <code>.sh</code> file, and <code>c</code> for a <code>.c</code> or <code>.h</code> file.
See above for an example of triple-ticks for bash.</li>
<li>the &quot;header comment&quot; is simply the set of all lines before the first blank line, if any, except the first line if it starts with <code>#!</code>.  (If there is no blank line, print all lines.)</li>
<li>Your script should print nothing if no arguments are listed.</li>
<li>Your script should behave properly if a pathname contains spaces or other special characters.</li>
<li>Your script should have a brief header comment giving the script name, your name, the date, and a short summary of how someone can/should use the script.</li>
</ul>
<div class="markdown-alert markdown-alert-tip"><p class="markdown-alert-title"><svg class="octicon octicon-light-bulb mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p><p>This would be a good test case for your script:</p>
<pre><code>./summarize.sh /home/cs50/shared/examples/*
</code></pre>
</div>
<!-- **Clarification:**
An early version of the specs above had contradictory instructions about exit status and unreadable files.
If your script follows the older spec, and exits cleanly (but with non-zero status) on encountering an argument that does not represent a readable file, we will accept it as correct. -->
<h2>What to submit</h2>
<p>You should have three files in your <code>lab1</code> directory: the three bash scripts <code>lab1.sh</code>, <code>top10.sh</code>, and <code>summarize.sh</code>.</p>
<p><code>cd</code> into your home directory and compress your Lab 1 into a zip file using this command:</p>
<pre><code>cd ~
zip -r lab1.zip lab1/
</code></pre>
<p>This recursively (<code>-r</code>) zips all the files in the <code>lab1</code> directory into the <code>lab1.zip</code> file.</p>
<p>Then, <strong>from a shell on your local machine</strong>, use the following command to secure copy this zip file to your local machine:</p>
<pre><code>scp &lt;username&gt;@plink.cs.dartmouth.edu:~/lab1.zip lab1.zip
</code></pre>
<p>The <code>lab1.zip</code> file should now be in whatever directory you ran this command from.</p>
<p><strong>Submit <code>lab1.zip</code> to Canvas by 11:59 pm on Wed, Jan 14th.</strong></p>
<!-- **Just leave these files in your `lab1` directory on plink.** You do not need to submit anything to Canvas for this assignment. The TAs have access to all your home directories on plink and will access your files directly there for grading. They will check the timestamps on your files to make sure they have not been edited after the deadline. -->
<!-- You should add **only** these three files to your repo:

```
git add README.md top10.sh summarize.sh
```

See the [lab submission instructions](/submit.html) for details of how to submit your lab. -->
<h2>A reminder about the AI policy</h2>
<p>This lab assignment is designed to assess individual problem-solving and programming skills. Students are expected to develop their solutions independently, utilizing their own reasoning and coding abilities. While generative AI tools like ChatGPT can provide general guidance or explain programming concepts, <strong>direct code generation or copying AI-produced code is considered a violation of academic integrity</strong>.</p>
<p>Any use of AI assistance must be explicitly documented in comments, indicating the specific guidance received and how it was conceptually integrated into the solution. The primary goal is to demonstrate personal understanding and implementation skills.</p>
<p>In summary: for lab programming assignments, treat AI like you would a friend in the class. General discussion for understanding is ok; copying and pasting code blocks is not ok.</p>
<h2>Hints</h2>
<p>You will find some of the following commandsÂ useful; use <code>man cmd</code> to read about any command.
It's best to run <code>man</code> on <code>plink</code> (not your Mac, or other Unix machine) so you are sure to get the manual for the version of the command where your script will run.</p>
<ul>
<li><code>less</code></li>
<li><code>cut</code></li>
<li><code>head</code></li>
<li><code>tail</code></li>
<li><code>grep</code></li>
<li><code>sort</code></li>
<li><code>tr</code></li>
<li><code>sed</code></li>
<li><code>basename</code></li>
</ul>
<p><code>grep</code> and <code>sed</code> depend on <em>regular expressions</em>.
It is helpful to remember that <code>^</code> anchors a pattern to the start of a line and <code>$</code> anchors to the end of the line.</p>
<h2>Markdown example</h2>
<p><a href="https://github.com/CS50DartmouthFA2025/home/blob/main/logistics/systems.md#markdown">Read about Markdown</a>, and about <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#tables">Markdown tables</a>.
If you want to preview a Markdown file with a desktop app, you'll have to either <a href="https://github.com/CS50DartmouthFA2025/home/blob/main/knowledge/units/scp.md">scp</a> the file to your laptop, or copy-paste from your ssh terminal into an empty window in one of those apps.
Another great tool is <a href="https://hackmd.io">HackMD</a>.</p>
<!-- We will view your `README.md` on GitHub.com, so make sure it looks good there. -->
<p>Here's a quick example of a simple Markdown file.</p>
<pre><code># This is a header

Some normal text goes here.
Markdown will join and wrap lines where needed.

Use a blank line to indicate a new paragraph.

## This is a subheader

The following is the 'triple-ticks' notation, with optional language specifier to inform Markdown that the contents are bash.
For best results, put a blank line between text and triple-ticks.

```bash
$ echo hello world
hello world
$
```

## another subheader

some more text.
</code></pre>

    </div>
</body>
</html>